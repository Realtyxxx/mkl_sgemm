##############################################################################################################
# Title      : test_pack/compute_sgemm                                                                       #
# CPU        : INTEL I5 8500                                                                                 #
# Tester     : TYX                                                                                           #
# Time       : 2020.12.13                                                                                    #
# Description: Test performance of pack&compute_sgemm for different {groupSize}, {M,N,K_value}.              #
#              To run the script, one should check environment variables.                                    #
##############################################################################################################
---------------------------------------------------------- 1 ----------------------------------------------------------------
rm -rf pack_compute
rm  pack_compute_Runtime.log
rm  pack_compute_Gflops.log
rm  pack_compute_efficiency.log
# rm  record.log
# rm performance.log
# script -a record.log
# script -a performance.log
g++ *cc -o * -lmkl_r -O3 -Wall
g++  pack_compute.cc -o pack_compute -lmkl_rt -O3 -Wall -march=znver1 -mtune=znver1
-----------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------- 2 ----------------------------------------------------------------
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 20.73066 milliseconds == 
gflops : 0.0493954
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.09678 milliseconds == 
gflops : 1.86729
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.10748 milliseconds == 
gflops : 3.6985
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.34151 milliseconds == 
gflops : 6.10657
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.59194 milliseconds == 
gflops : 10.2919
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.28611 milliseconds == 
gflops : 14.3335
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.17869 milliseconds == 
gflops : 6.95012
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.46788 milliseconds == 
gflops : 11.1617
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.82688 milliseconds == 
gflops : 17.9366
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.71995 milliseconds == 
gflops : 24.0945
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 4.29508 milliseconds == 
gflops : 30.5168
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 7.70969 milliseconds == 
gflops : 34.0019
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.44421 milliseconds == 
gflops : 26.8127
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 3.86345 milliseconds == 
gflops : 33.9262
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 6.55072 milliseconds == 
gflops : 40.0176
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 12.04292 milliseconds == 
gflops : 43.535
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 23.07885 milliseconds == 
gflops : 45.4345
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 45.71842 milliseconds == 
gflops : 45.8711
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 11.08354 milliseconds == 
gflops : 47.3033
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 20.89346 milliseconds == 
gflops : 50.1868
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 40.56303 milliseconds == 
gflops : 51.7011
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 80.74112 milliseconds == 
gflops : 51.9476
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 158.54117 milliseconds == 
gflops : 52.9112
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 315.63172 milliseconds == 
gflops : 53.1544
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 77.80133 milliseconds == 
gflops : 53.9104
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 154.17144 milliseconds == 
gflops : 54.4109
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 305.70305 milliseconds == 
gflops : 54.8808
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 608.01976 milliseconds == 
gflops : 55.1864
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1218.67209 milliseconds == 
gflops : 55.0672
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2457.27844 milliseconds == 
gflops : 54.6205
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 625.95783 milliseconds == 
gflops : 53.6049
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1514.37295 milliseconds == 
gflops : 44.3146
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2409.79873 milliseconds == 
gflops : 55.6967
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 4812.95330 milliseconds == 
gflops : 55.7735
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 9549.09912 milliseconds == 
gflops : 56.2222
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 19022.13542 milliseconds == 
gflops : 56.447
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-----------------------------------------------------------------------------------------------------------------------------
##############################################################################################################
# Title      : test_pack/compute_sgemm                                                                       #
# CPU        : INTEL I5 8500                                                                                 #
# Tester     : TYX                                                                                           #
# Time       : 2020.12.13                                                                                    #
# Description: Test performance of pack&compute_sgemm for different {groupSize}, {M,N,K_value}.              #
#              To run the script, one should check environment variables.                                    #
##############################################################################################################
---------------------------------------------------------- 1 ----------------------------------------------------------------
rm -rf pack_compute
rm  pack_compute_Runtime.log
rm  pack_compute_Gflops.log
rm  pack_compute_efficiency.log
# rm  record.log
# rm performance.log
# script -a record.log
# script -a performance.log
g++ *cc -o * -lmkl_r -O3 -Wall
g++  pack_compute.cc -o pack_compute -lmkl_rt -O3 -Wall -march=znver1 -mtune=znver1
-----------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------- 2 ----------------------------------------------------------------
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 20.66804 milliseconds == 
gflops : 0.0495451
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.06118 milliseconds == 
gflops : 1.92993
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.06831 milliseconds == 
gflops : 3.83411
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.27180 milliseconds == 
gflops : 6.44128
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.51227 milliseconds == 
gflops : 10.8341
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.24969 milliseconds == 
gflops : 14.5655
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.15546 milliseconds == 
gflops : 7.08983
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.41999 milliseconds == 
gflops : 11.5381
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.87381 milliseconds == 
gflops : 17.4874
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.66083 milliseconds == 
gflops : 24.63
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 4.33354 milliseconds == 
gflops : 30.2459
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 7.68173 milliseconds == 
gflops : 34.1256
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.37732 milliseconds == 
gflops : 27.5671
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 3.80605 milliseconds == 
gflops : 34.4378
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 6.52968 milliseconds == 
gflops : 40.1465
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 12.84144 milliseconds == 
gflops : 40.8278
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 23.78688 milliseconds == 
gflops : 44.0821
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 45.60524 milliseconds == 
gflops : 45.9849
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 11.00921 milliseconds == 
gflops : 47.6227
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 21.59991 milliseconds == 
gflops : 48.5454
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 41.02812 milliseconds == 
gflops : 51.115
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 80.28555 milliseconds == 
gflops : 52.2423
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 159.18450 milliseconds == 
gflops : 52.6974
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 314.73872 milliseconds == 
gflops : 53.3052
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 77.62573 milliseconds == 
gflops : 54.0324
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 153.34747 milliseconds == 
gflops : 54.7033
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 306.60886 milliseconds == 
gflops : 54.7186
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 608.49143 milliseconds == 
gflops : 55.1436
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1210.50847 milliseconds == 
gflops : 55.4386
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2788.91813 milliseconds == 
gflops : 48.1254
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 703.55653 milliseconds == 
gflops : 47.6926
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1241.06895 milliseconds == 
gflops : 54.0734
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2825.08417 milliseconds == 
gflops : 47.5093
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 5032.12143 milliseconds == 
gflops : 53.3444
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 11040.08463 milliseconds == 
gflops : 48.6292
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 21848.31776 milliseconds == 
gflops : 49.1453
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-----------------------------------------------------------------------------------------------------------------------------
##############################################################################################################
# Title      : test_pack/compute_sgemm                                                                       #
# CPU        : INTEL I5 8500                                                                                 #
# Tester     : TYX                                                                                           #
# Time       : 2020.12.13                                                                                    #
# Description: Test performance of pack&compute_sgemm for different {groupSize}, {M,N,K_value}.              #
#              To run the script, one should check environment variables.                                    #
##############################################################################################################
---------------------------------------------------------- 1 ----------------------------------------------------------------
rm -rf pack_compute
rm  pack_compute_Runtime.log
rm  pack_compute_Gflops.log
rm  pack_compute_efficiency.log
# rm  record.log
# rm performance.log
# script -a record.log
# script -a performance.log
g++ *cc -o * -lmkl_r -O3 -Wall
g++  pack_compute.cc -o pack_compute -lmkl_rt -O3 -Wall -march=znver1 -mtune=znver1
-----------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------- 2 ----------------------------------------------------------------
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 20.70977 milliseconds == 
gflops : 0.0494453
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.02931 milliseconds == 
gflops : 1.98968
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.08028 milliseconds == 
gflops : 3.79161
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.29318 milliseconds == 
gflops : 6.33475
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.62959 milliseconds == 
gflops : 10.0541
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 40 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.21284 milliseconds == 
gflops : 14.8081
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.16831 milliseconds == 
gflops : 7.01182
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.42493 milliseconds == 
gflops : 11.4981
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1.80500 milliseconds == 
gflops : 18.154
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.65748 milliseconds == 
gflops : 24.6609
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 4.30946 milliseconds == 
gflops : 30.4149
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 80 )using Intel(R) MKL cblas_sgemm completed == 
 == at 7.62642 milliseconds == 
gflops : 34.3731
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2.39753 milliseconds == 
gflops : 27.3347
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 3.77947 milliseconds == 
gflops : 34.68
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 6.59150 milliseconds == 
gflops : 39.77
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 11.98593 milliseconds == 
gflops : 43.7419
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 23.09323 milliseconds == 
gflops : 45.4062
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 160 )using Intel(R) MKL cblas_sgemm completed == 
 == at 44.94003 milliseconds == 
gflops : 46.6656
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 11.03754 milliseconds == 
gflops : 47.5005
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 20.74835 milliseconds == 
gflops : 50.5378
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 40.59216 milliseconds == 
gflops : 51.664
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 79.71395 milliseconds == 
gflops : 52.6169
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 159.00591 milliseconds == 
gflops : 52.7566
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 320 )using Intel(R) MKL cblas_sgemm completed == 
 == at 313.75110 milliseconds == 
gflops : 53.473
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 77.71163 milliseconds == 
gflops : 53.9727
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 153.58583 milliseconds == 
gflops : 54.6184
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 305.06421 milliseconds == 
gflops : 54.9957
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 606.21943 milliseconds == 
gflops : 55.3503
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1206.63814 milliseconds == 
gflops : 55.6164
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 640 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2426.27182 milliseconds == 
gflops : 55.3185
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 8, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 620.03767 milliseconds == 
gflops : 54.1168
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 16, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 1338.36303 milliseconds == 
gflops : 50.1425
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 32, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 2398.37419 milliseconds == 
gflops : 55.962
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 64, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 5577.06293 milliseconds == 
gflops : 48.132
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 128, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 11146.90583 milliseconds == 
gflops : 48.1632
*************************************************************************************************
 == Multiple Matrix multiplication (groupsize = 256, m n k = 1280 )using Intel(R) MKL cblas_sgemm completed == 
 == at 21842.51778 milliseconds == 
gflops : 49.1583
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-----------------------------------------------------------------------------------------------------------------------------
